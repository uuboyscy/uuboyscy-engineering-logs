"use strict";(self.webpackChunkuuboyscy_engineering_logs=self.webpackChunkuuboyscy_engineering_logs||[]).push([[6325],{3092:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Git/Runner setup","title":"Runner setup","description":"Follow these steps to configure a self-hosted runner for GitHub Actions on your Ubuntu system.","source":"@site/docs/Git/Runner setup.md","sourceDirName":"Git","slug":"/Git/Runner setup","permalink":"/,/docs/Git/Runner setup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"GitHub Runner Housekeeping","permalink":"/,/docs/Git/GitHub Runner Housekeeping"},"next":{"title":"Poetry","permalink":"/,/docs/Python/Virtualenv/Poetry"}}');var t=r(4848),i=r(8453);const o={},l="Runner setup",c={},d=[{value:"1. Prerequisites",id:"1-prerequisites",level:2},{value:"2. Prepare the Ubuntu Environment",id:"2-prepare-the-ubuntu-environment",level:2},{value:"3. Register a Self-Hosted Runner",id:"3-register-a-self-hosted-runner",level:2},{value:"4. Set Up the Runner",id:"4-set-up-the-runner",level:2},{value:"5. Start the Runner",id:"5-start-the-runner",level:2},{value:"6. Test the Runner",id:"6-test-the-runner",level:2},{value:"7. Optional: Secure and Optimize",id:"7-optional-secure-and-optimize",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"runner-setup",children:"Runner setup"})}),"\n",(0,t.jsx)(n.h1,{id:"set-up-a-github-self-hosted-runner-on-ubuntu",children:"Set Up a GitHub Self-Hosted Runner on Ubuntu"}),"\n",(0,t.jsx)(n.p,{children:"Follow these steps to configure a self-hosted runner for GitHub Actions on your Ubuntu system."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-prerequisites",children:"1. Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Ensure you have:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A supported version of Ubuntu (18.04 or newer)."}),"\n",(0,t.jsx)(n.li,{children:"An account with administrator privileges on the server."}),"\n",(0,t.jsx)(n.li,{children:"Access to your GitHub repository, organization, or enterprise."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-prepare-the-ubuntu-environment",children:"2. Prepare the Ubuntu Environment"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Update the System:"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"sudo apt update && sudo apt upgrade -y"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Install Required Dependencies:"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"sudo apt install -y curl wget unzip tar"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Install Docker (Optional, if workflows require it):"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"sudo apt install -y docker.io  sudo usermod -aG docker $USER"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-register-a-self-hosted-runner",children:"3. Register a Self-Hosted Runner"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Go to Your GitHub Repository or Organization:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For a repository: Navigate to ",(0,t.jsx)(n.strong,{children:"Settings > Actions > Runners"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For an organization: Go to ",(0,t.jsx)(n.strong,{children:"Organization Settings > Actions > Runners"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Click \u201cAdd Runner\u201d:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Select the runner's operating system (Linux in this case)."}),"\n",(0,t.jsx)(n.li,{children:"Copy the commands provided to your Ubuntu system."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-set-up-the-runner",children:"4. Set Up the Runner"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Create a Directory for the Runner:"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"mkdir actions-runner && cd actions-runner"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Download the Runner Package:"})," Replace ",(0,t.jsx)(n.code,{children:"<version>"})," with the latest version (e.g., ",(0,t.jsx)(n.code,{children:"2.308.0"}),"):"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"curl -o actions-runner-linux-x64-<version>.tar.gz -L https://github.com/actions/runner/releases/download/<version>/actions-runner-linux-x64-<version>.tar.gz"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Extract the Package:"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"tar xzf actions-runner-linux-x64-<version>.tar.gz"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Configure the Runner:"})," Replace ",(0,t.jsx)(n.code,{children:"<URL>"})," and ",(0,t.jsx)(n.code,{children:"<TOKEN>"})," with the values provided by GitHub:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"./config.sh --url <repository_or_org_url> --token <token>"})}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"./config.sh --url https://github.com/your-repo --token ABC123TOKEN"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-start-the-runner",children:"5. Start the Runner"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Run the Runner Manually:"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"./run.sh"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Set Up as a Service:"})," To ensure the runner starts automatically on reboot:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"sudo ./svc.sh install  sudo ./svc.sh start"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"6-test-the-runner",children:"6. Test the Runner"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Settings > Actions > Runners"}),' in your repository or organization to verify the runner is listed as "Idle."']}),"\n",(0,t.jsx)(n.li,{children:"Trigger a workflow to test its functionality."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"7-optional-secure-and-optimize",children:"7. Optional: Secure and Optimize"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Restrict Access to the Runner Directory:"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"chmod -R 700 actions-runner"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Monitor Runner Logs:"})," Logs are available in the ",(0,t.jsx)(n.code,{children:"actions-runner/_diag"})," directory for troubleshooting."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Clean Up After Jobs:"})," To prevent storage issues, automate cleanup tasks for temporary files (e.g., using cron jobs)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"You're all set! Your self-hosted GitHub Actions runner should now be ready for use."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(6540);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);