"use strict";(self.webpackChunkuuboyscy_engineering_logs=self.webpackChunkuuboyscy_engineering_logs||[]).push([[7423],{95463:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>i});const t=JSON.parse('{"id":"Python/Flask/handling_requests","title":"Handle Requests and Responses in Flask","description":"Once you have a Flask application up and running, the next step is to expose different kinds of interactions so teammates can supply parameters, send queries, or submit data. The examples below build progressively richer routes, all powered by Flask\'s built-in request handling.","source":"@site/docs/Python/Flask/01_handling_requests.md","sourceDirName":"Python/Flask","slug":"/Python/Flask/handling_requests","permalink":"/docs/Python/Flask/handling_requests","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started with Flask","permalink":"/docs/Python/Flask/intro"},"next":{"title":"Pandas Tutorial","permalink":"/docs/category/pandas-tutorial"}}');var r=s(74848),a=s(28453);const l={},o="Handle Requests and Responses in Flask",u={},i=[{value:"Capture path parameters",id:"capture-path-parameters",level:2},{value:"Read query string parameters",id:"read-query-string-parameters",level:2},{value:"Accept form submissions",id:"accept-form-submissions",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"handle-requests-and-responses-in-flask",children:"Handle Requests and Responses in Flask"})}),"\n",(0,r.jsx)(n.p,{children:"Once you have a Flask application up and running, the next step is to expose different kinds of interactions so teammates can supply parameters, send queries, or submit data. The examples below build progressively richer routes, all powered by Flask's built-in request handling."}),"\n",(0,r.jsx)(n.h2,{id:"capture-path-parameters",children:"Capture path parameters"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from flask import Flask\n\napp = Flask(__name__)\n\n@app.route("/hello_flask")\ndef hello_flask():\n    return "Hello Flask!"\n\n@app.route("/hello_flask/Allen")\ndef hello_user_allen():\n    return "Hello Allen !!!"\n@app.route("/hello_flask/Ted")\ndef hello_user_ted():\n    return "Hello Ted !!!"\n@app.route("/hello_flask/Jack")\ndef hello_user_jack():\n    return "Hello Jack !!!"\n\n\n@app.route("/hello_flask/<username>")\ndef helloUser(username):\n    return "Hello {} !!!!!!".format(username)\n\n@app.route("/hello_flask/<username>/<age>")\ndef userInfo(username, age):\n    return "Hello {}, you are {} years old!".format(username, age)\n\nif __name__ == "__main__":\n    app.run(debug=True, host="0.0.0.0", port=5000)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Hard-coded routes such as ",(0,r.jsx)(n.code,{children:"/hello_flask/Allen"})," are useful for some testing, while the dynamic segments (",(0,r.jsx)(n.code,{children:"<username>"})," and ",(0,r.jsx)(n.code,{children:"<age>"}),") let you respond to any user at runtime. Flask converts the captured path segments into function arguments so you can personalize the response text or forward the values to your data processing code."]}),"\n",(0,r.jsx)(n.h2,{id:"read-query-string-parameters",children:"Read query string parameters"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route("/hello_get", methods=["GET"])\ndef hello_get():\n    username = request.args.get("username")\n    userage = request.args.get("userage")\n    result_html = """\n    <html>\n        <head>\n            <title>Hello</title>\n        </head>\n        <body>\n    """\n\n    if username == None:\n        result_html += """\n        Who are you?\n        """\n    else:\n        result_html += """\n        Hello %s !\n        """%(username)\n        if userage != None:\n            result_html += """\n            You are %s years old.\n            """%(userage)\n\n    result_html += """\n        </body>\n    </html>\n    """\n    return result_html\n\nif __name__ == "__main__":\n    app.run(debug=True, host="0.0.0.0", port=5000)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Here ",(0,r.jsx)(n.code,{children:"request.args"})," provides access to the query string."]}),"\n",(0,r.jsx)(n.h2,{id:"accept-form-submissions",children:"Accept form submissions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route("/hello_post", methods=["GET", "POST"])\ndef hello_post():\n    result_html = """\n    <html>\n    <form action="/hello_post" method="POST">\n        <label>What is your name?</label>\n        <br>\n        <input type="textbox" name="username">\n        <button type="submit">Submit</button>\n    </form>\n    <div>\n    %s\n    </div>\n    </html>\n    """\n    if request.method == "GET":\n        return result_html%("")\n    elif request.method == "POST":\n        username = request.form.get("username")\n        return result_html%("Hello %s"%(username))\n\n\nif __name__ == "__main__":\n    app.run(debug=True, host="0.0.0.0", port=5000)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["By combining ",(0,r.jsx)(n.code,{children:"GET"})," and ",(0,r.jsx)(n.code,{children:"POST"})," handlers in one view, you can render an input form and immediately process submissions without switching files. ",(0,r.jsx)(n.code,{children:"request.form"})," gives access to submitted form data."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var t=s(96540);const r={},a=t.createContext(r);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);